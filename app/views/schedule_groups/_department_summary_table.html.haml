.department-summary{'data-department-id' => dept_id}
  %h5.department-summary-title= department_name
  %table.table.table-bordered.table-condensed.department-summary-table{'data-department-id' => dept_id}
    %thead
      %tr
        %th= t('schedule_groups.show.shifts_label')
        - columns.each do |col|
          %th{'data-shift-id' => col[:shift_id]}= col[:display_text]
    %tbody
      - week_dates.each_with_index do |date, index|
        %tr{'data-date' => date.to_s, 'data-row-index' => index}
          %td.weekday-cell= l(date, format: '%A')
          - columns.each do |col|
            - count = counts[[col[:shift_id], date]] || 0
            %td.summary-count-cell{'data-department-id' => dept_id, 'data-shift-id' => col[:shift_id], 'data-date' => date.to_s}
              = count if count > 0
